//= require jquery
//= require jquery_ujs
//= require i18n
//= require i18n/translations

$(document).ready(function()
{
	// ARRAY OF INPUT FIELDS TO BE STYLED
	var applicationInputFields = new Array(Array("search_bar_input","search_bar_value"));
	
	// STYLES INPUT FIELDS
	styleInputFields(applicationInputFields);
});

// STYLES ALL INPUT FIELDS OF THE ARRAY PASSED AS PARAMETER
function styleInputFields(arrayInputFields)
{
	for (var i in arrayInputFields)
	{
		styleInputField(arrayInputFields[i][0],arrayInputFields[i][1]);
	}
}

// STYLES THE INPUT FIELD PASSED AS PARAMETER
function styleInputField(inputFieldId,inputFieldValue)
{
	$("#"+inputFieldId).click(function()
	{
		if($("#"+inputFieldId).attr("value") == I18n.t(inputFieldValue))
		{
			$("#"+inputFieldId).css("color","#acacb3");	
		}
	});
	
	$("#"+inputFieldId).keydown(function()
	{
		if($("#"+inputFieldId).attr("value") == I18n.t(inputFieldValue))
		{
			$("#"+inputFieldId).attr("value","");
			$("#"+inputFieldId).css("font-style","normal");
			$("#"+inputFieldId).css("color","#444");	
		}
	});
	
	$("#"+inputFieldId).focusout(function()
	{
		if($("#"+inputFieldId).attr("value") == "" || $("#"+inputFieldId).attr("value") == I18n.t(inputFieldValue))
		{
			$("#"+inputFieldId).css("font-style","italic");
			$("#"+inputFieldId).css("color","#7c7777");
			if($("#"+inputFieldId).attr("value") == "")
			{
				$("#"+inputFieldId).attr("value",I18n.t(inputFieldValue)); 
			}
		}
	});
	
	// CLOSES THE FLASH MESSAGES
	$("#close_flash").click(function()
	{
	  $("#flash").hide();
	})
}
